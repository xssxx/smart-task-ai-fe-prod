@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --font-sans: var(--font-kanit), sans-serif;
  --font-momo: var(--font-momo), cursive;
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

:root {
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.985 0 0);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.25 0 0);
  --chart-2: oklch(0.40 0 0);
  --chart-3: oklch(0.55 0 0);
  --chart-4: oklch(0.70 0 0);
  --chart-5: oklch(0.85 0 0);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);

  /* Toast colors for light theme */
  --toast-success-bg: #f1fae5;
  --toast-success-text: #7ccf00;
  --toast-success-border: #7ccf00;
  --toast-error-bg: #f9e4ea;
  --toast-error-text: #ff2056;
  --toast-error-border: #ff2056;
  --toast-warning-bg: #fdf7e5;
  --toast-warning-text: #fe9a00;
  --toast-warning-border: #fe9a00;
  --toast-info-bg: #e1f2fa;
  --toast-info-text: #00a6f4;
  --toast-info-border: #00a6f4;
}

/* Task status colors */
:root,
.dark {
  --status-todo: #737373;
  --status-in-progress: #00a6f4;
  --status-in-review: #f0b100;
  --status-done: #7ccf00;

  /* Task priority colors */
  --priority-urgent: #9f0712;
  --priority-high: #ff2056;
  --priority-medium: #fe9a00;
  --priority-low: #7ccf00;

  /* Action badge text/border colors */
  --action-created: #7ccf00;
  --action-created-border: #7ccf00;
  --action-updated: #00a6f4;
  --action-updated-border: #00a6f4;
  --action-deleted: #ff2056;
  --action-deleted-border: #ff2056;

  /* Toast text/border colors */
  --toast-success-text: #7ccf00;
  --toast-success-border: #7ccf00;
  --toast-error-text: #ff2056;
  --toast-error-border: #ff2056;
  --toast-warning-text: #fe9a00;
  --toast-warning-border: #fe9a00;
  --toast-info-text: #00a6f4;
  --toast-info-border: #00a6f4;

  /* Completion rate colors */
  --completion-positive: #7ccf00;
  --completion-neutral: #212121;
  --completion-negative: #fb2c36;
}

:root {
  /* Action badge background colors (light theme) */
  --action-created-bg: #f1fae5;
  --action-updated-bg: #e1f2fa;
  --action-deleted-bg: #f9e4ea;
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.269 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.371 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --destructive-foreground: oklch(0.985 0 0);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.85 0 0);
  --chart-2: oklch(0.70 0 0);
  --chart-3: oklch(0.55 0 0);
  --chart-4: oklch(0.40 0 0);
  --chart-5: oklch(0.25 0 0);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.922 0 0);
  --sidebar-primary-foreground: oklch(0.205 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);

  /* Toast background colors (dark theme) */
  --toast-success-bg: #212a15;
  --toast-error-bg: #2e181e;
  --toast-warning-bg: #2e2415;
  --toast-info-bg: #15262d;

  /* Action badge background colors (dark theme) */
  --action-created-bg: #212a15;
  --action-updated-bg: #15262d;
  --action-deleted-bg: #2e181e;
}

@layer base {
  * {
    border-color: var(--color-border);
    outline-color: color-mix(in oklch, var(--color-ring) 50%, transparent);
  }

  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
    font-family: var(--font-kanit), sans-serif;
  }

  /* Set Kanit as default font for all elements */
  html {
    font-family: var(--font-kanit), sans-serif;
  }
}

/* Custom loading animations */
@keyframes fadeInScale {
  0% {
    opacity: 0;
    transform: scale(0.95);
  }

  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes fadeOutScale {
  0% {
    opacity: 1;
    transform: scale(1);
  }

  100% {
    opacity: 0;
    transform: scale(0.95);
  }
}

.loading-fade-in {
  animation: fadeInScale 0.3s ease-out forwards;
}

.loading-fade-out {
  animation: fadeOutScale 0.3s ease-in forwards;
}

/* Collapsible animations */
@keyframes collapsible-down {
  from {
    height: 0;
    opacity: 0;
  }

  to {
    height: var(--radix-collapsible-content-height);
    opacity: 1;
  }
}

@keyframes collapsible-up {
  from {
    height: var(--radix-collapsible-content-height);
    opacity: 1;
  }

  to {
    height: 0;
    opacity: 0;
  }
}

.animate-collapsible-down {
  animation: collapsible-down 0.2s ease-out;
}

.animate-collapsible-up {
  animation: collapsible-up 0.2s ease-out;
}

/* Custom Sonner Toast Styles */
[data-sonner-toaster] {
  font-family: var(--font-kanit), sans-serif !important;
  z-index: 9999 !important;
}

[data-sonner-toast] {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
  font-family: var(--font-kanit), sans-serif !important;
  z-index: 9999 !important;
  border-width: 1px !important;
  border-style: solid !important;
}

/* Make newest toast appear on top with higher z-index */
[data-sonner-toast]:first-child {
  z-index: 10001 !important;
}

/* Ensure all toast content uses font */
[data-sonner-toast] * {
  font-family: var(--font-kanit), sans-serif !important;
}

/* Toast type-specific colors using CSS variables */
[data-sonner-toast][data-type="success"] {
  background-color: var(--toast-success-bg) !important;
  color: var(--toast-success-text) !important;
  border-color: var(--toast-success-border) !important;
}

[data-sonner-toast][data-type="success"] [data-icon],
[data-sonner-toast][data-type="success"] [data-title],
[data-sonner-toast][data-type="success"] [data-description] {
  color: var(--toast-success-text) !important;
}

[data-sonner-toast][data-type="error"] {
  background-color: var(--toast-error-bg) !important;
  color: var(--toast-error-text) !important;
  border-color: var(--toast-error-border) !important;
}

[data-sonner-toast][data-type="error"] [data-icon],
[data-sonner-toast][data-type="error"] [data-title],
[data-sonner-toast][data-type="error"] [data-description] {
  color: var(--toast-error-text) !important;
}

[data-sonner-toast][data-type="warning"] {
  background-color: var(--toast-warning-bg) !important;
  color: var(--toast-warning-text) !important;
  border-color: var(--toast-warning-border) !important;
}

[data-sonner-toast][data-type="warning"] [data-icon],
[data-sonner-toast][data-type="warning"] [data-title],
[data-sonner-toast][data-type="warning"] [data-description] {
  color: var(--toast-warning-text) !important;
}

[data-sonner-toast][data-type="info"] {
  background-color: var(--toast-info-bg) !important;
  color: var(--toast-info-text) !important;
  border-color: var(--toast-info-border) !important;
}

[data-sonner-toast][data-type="info"] [data-icon],
[data-sonner-toast][data-type="info"] [data-title],
[data-sonner-toast][data-type="info"] [data-description] {
  color: var(--toast-info-text) !important;
}

/* Board Navigation Dots */
.board-nav-dot {
  width: 0.5rem;
  height: 0.5rem;
  border-radius: 9999px;
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
  cursor: pointer;
  background-color: rgb(156 163 175);
}

.board-nav-dot:hover {
  background-color: rgb(107 114 128);
}

.board-nav-dot.active {
  background-color: rgb(75 85 99);
}

/* Global font override to ensure Kanit is used everywhere */
* {
  font-family: var(--font-kanit), sans-serif !important;
}

/* Specific overrides for common elements */
input,
textarea,
select,
button {
  font-family: var(--font-kanit), sans-serif !important;
}

/* Emoji font support - allow system emoji fonts to render */
.font-emoji {
  font-family: "Segoe UI Emoji", "Apple Color Emoji", "Noto Color Emoji", "Segoe UI Symbol", "Twemoji Mozilla", sans-serif !important;
  font-style: normal !important;
  font-weight: normal !important;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Momo Signature font for logo */
.font-momo {
  font-family: var(--font-momo), cursive !important;
}

/* Task status indicator colors */
.status-dot-todo {
  background-color: var(--status-todo);
}

.status-dot-in-progress {
  background-color: var(--status-in-progress);
}

.status-dot-in-review {
  background-color: var(--status-in-review);
}

.status-dot-done {
  background-color: var(--status-done);
}

/* Task priority indicator colors */
.priority-dot-urgent {
  background-color: var(--priority-urgent);
}

.priority-dot-high {
  background-color: var(--priority-high);
}

.priority-dot-medium {
  background-color: var(--priority-medium);
}

.priority-dot-low {
  background-color: var(--priority-low);
}

/* Task priority badge colors */
.priority-badge-urgent {
  background-color: color-mix(in srgb, var(--priority-urgent) 10%, transparent);
  color: var(--priority-urgent);
  border-color: color-mix(in srgb, var(--priority-urgent) 20%, transparent);
}

.priority-badge-high {
  background-color: color-mix(in srgb, var(--priority-high) 10%, transparent);
  color: var(--priority-high);
  border-color: color-mix(in srgb, var(--priority-high) 20%, transparent);
}

.priority-badge-medium {
  background-color: color-mix(in srgb, var(--priority-medium) 10%, transparent);
  color: var(--priority-medium);
  border-color: color-mix(in srgb, var(--priority-medium) 20%, transparent);
}

.priority-badge-low {
  background-color: color-mix(in srgb, var(--priority-low) 10%, transparent);
  color: var(--priority-low);
  border-color: color-mix(in srgb, var(--priority-low) 20%, transparent);
}

/* Task status badge colors */
.status-badge-todo {
  background-color: color-mix(in srgb, var(--status-todo) 10%, transparent);
  color: var(--status-todo);
  border-color: color-mix(in srgb, var(--status-todo) 20%, transparent);
}

.status-badge-in-progress,
.status-badge-in_progress {
  background-color: color-mix(in srgb, var(--status-in-progress) 10%, transparent);
  color: var(--status-in-progress);
  border-color: color-mix(in srgb, var(--status-in-progress) 20%, transparent);
}

.status-badge-in-review,
.status-badge-in_review {
  background-color: color-mix(in srgb, var(--status-in-review) 10%, transparent);
  color: var(--status-in-review);
  border-color: color-mix(in srgb, var(--status-in-review) 20%, transparent);
}

.status-badge-done,
.status-badge-completed {
  background-color: color-mix(in srgb, var(--status-done) 10%, transparent);
  color: var(--status-done);
  border-color: color-mix(in srgb, var(--status-done) 20%, transparent);
}

/* Action badge colors */
.action-badge-created {
  background-color: var(--action-created-bg);
  color: var(--action-created);
  border-color: var(--action-created-border);
}

.action-badge-updated {
  background-color: var(--action-updated-bg);
  color: var(--action-updated);
  border-color: var(--action-updated-border);
}

.action-badge-deleted {
  background-color: var(--action-deleted-bg);
  color: var(--action-deleted);
  border-color: var(--action-deleted-border);
}

/* Board column responsive width */
.board-column {
  width: 88vw;
  flex-shrink: 0;
}

/* Tablet Landscape and Desktop (1024px+) */
@media (min-width: 1024px) {
  .board-column {
    width: var(--column-width);
    flex: 1 1 0;
    min-width: 0;
    max-width: 100%;
  }

  .board-column.single {
    width: 100%;
    flex: 1 1 100%;
    max-width: 100%;
  }
}